# 1.Первичный список требований #
## 1.1 Функциональные требования ##

**1.1.1**  Система должна предоставлять возможность нескольких режимов игры:

  1. Первый режим - игра с интеллектом, причём этот режим предполагает игру только с одним интеллектом, варьировать его сложность нельзя. (Приоритет требования - обычный.)
  1. Второй - игра по сети с человеком. (Приоритет - низкий.)
  1. Третий - игра с человеком на одном компьютере. Данное требование имеет наивысший приоритет.

**1.1.2**  Игра ведется в любом из режимов по правилам игры "Уголки".

**1.1.3** Пользователь не должен иметь возможность делать свой ход во время хода противника. Пока противник обдумывает ход, пользователь не имеет доступа к игровому полю.

**1.1.4** Не предполагается ведение какой-либо статистики по сыгранным партиям, а также организация каких-либо турниров, состоящих из нескольких партий или матчей.

**1.1.5** При сетевой игре имеется возможность переписываться с противником.

## 1.2 Нефункциональные требования ##

**1.2.1** Система должна предоставлять интерфейс, понятный для обычного пользователя (окно приложения содержит игровое поля, имеющее вид шахматной доски с шашками, и кнопки для управления ходом игры. Также система должна предоставлять поддержку двух языков : ru, en (для выбора языка используются настройки OS: если выбран ru, то интерфейс будет на русском языке иначе - en).

**1.2.2** Разработка системы ведется на языке С++ с использованием библиотек Qt, поэтому количество поддерживаемых платформ ограничено возможностями Qt

**1.2.3** Система должна предоставлять только возможность игры в "Уголки".

# 2. Модели требований #
## 2.1 Модель предметной области ##

Уголками называется настольная логическая игра на квадратном поле размером 8x8 клеток для двух участников. В зависимости от разновидности игры у участников имеется по 9 или 12 шашек в доме. Цель игры - переместить свои шашки в дом противника за меньшее его число ходов.

В начале игры все шашки находятся в домах (белые в одном доме, черные в другом доме).

Игру начинают белые. Выбор цвета фигур осуществляется случайным образом.
Игроки по очереди делают ход.

Игра заканчивается при выполнении одного из следующих условий:
  1. Один из игроков переместил все свои шашки в дом соперника раньше него с разницей в один или более ходов. Этот игрок выиграл игру.
  1. Ничья - соперники завели последнюю шашку в чужой дом в один ход (черные сделали это сразу после белых, так как белые начинают игру).
  1. Прерывание партии - Сдача партии на любом ходу игры.
  1. Один из игроков все еще имеет несколько своих шашек в своём доме и при этом сделал больше чем 40 ходов. Этот игрок проигрывает игру.
  1. Игрок также проигрывает игру, если он поставил одну из своих шашек обратно в свой дом после 40-ого ходов.
Последние два правила предотвращают блокировку игроком клеток в своём доме с целью помешать сопернику переместить свои шашки туда.

## 2.2 Функциональная модель приложения ##
![https://ugolki.googlecode.com/files/architecture.png](https://ugolki.googlecode.com/files/architecture.png)
### 2.2.1 Начало игры ###

В начале игры пользователь открывает окно приложения. Ему предлагается выбрать один из режимов игры: игра с компьютером, игра с другим человеком по сети или игра 2-х игроков за одним компьютером. Пользователь нажимает на кнопку с режимом, в котором он хочет играть и открывается игровое поле. Для игры по сети нужно выбрать: создать игру или подсоединиться к игре. При создании игры будет открыт стандартный порт, и другой игрок сможет подключиться введя IP - адрес своего оппонента. Аналогично, чтобы подсоединиться к другой игре - нужно будет ввести IP адрес оппонента. Если соединение будет установлено - то игра начнется автоматически.

### 2.2.2 Игровой процесс ###

Игроки по очереди делают ход.
Пользователь нажимает на шашку курсором мыши, после чего шашка активируется и ждет выбора клетки, куда будет совершен ход. Пользователь нажимает на клетку курсором мыши, и если этот ход не противоречит правилам игры, шашка передвигается на новую клетку, после чего начинается ход соперника. Время на обдумывание хода не ограничено.


### 2.2.3 Конец партии ###

Игра завершается, если выполнено одно из следующих условий:
  1. Если выполнено одно из условий завершения игры указанных в правилах
  1. В случае игры по сети: при отключении одного из игроков от игры, победа присуждается оставшемуся в игре.

## 2.3 Модель пользователя системы ##

### Пользователь ###
Предполагается, что пользователь приложения должен:
  * Уметь работать с компьютером на начальном уровне, в частности с графическими приложениями.
  * Знать основные правила игры "Уголки".

### Системные требования ###
  * Операционная система Windows ME/XP/Vista/7, Linux Based v2.0 и старше
  * Подключение к интернету (для сетевой игры)
  * Видеоадаптер позволяющий отображать графику
  * Манипулятор (мышь, тачпад и т.п.)

# 3. Высокоуровневая архитектура системы #

## 3.1 Модель архитектуры ##
Система состоит из нескольких основных модулей. Среди них:
  * Абстрактная модель предназначена для организации игры между игроком и его противником. Именно он проверяет соответствие ходов игроков правилам игры "Уголки", определяет победителя партии. Все оставшиеся модули подключаются к этому модулю для взаимодействия.
  * Сетевой модуль предназначен для игры через сеть интернет, включает в себя клиентскую и серверную часть.
  * Модуль графического интерфейса пользователя или GUI. Модуль предназначен для обеспечивания взаимодействия игрока и логического блока. Он же ответственен за взаимодействие игрока и его противников, в т.ч. искусственного интеллекта.
  * Модуль искусственного интеллекта или AI представляет собой комплекс алгоритмов, имитирующих человеческий разум и предназначенных для игры против игрока работает с логическим модулем, подключается при компиляции программы и не может быть выбран.

#### Графическое представление модели архитектуры ####

## 3.2 Детальные требования к основным подсистемам ##
### 3.2.1 Графический интерфейс ###
  * В оформлении окна приложения не должно использоваться резких и чрезмерно ярких цветов.
  * Основное окно приложения всегда только одно. Все остальные окна, сообщающие дополнительную информацию являются диалоговыми и по размеру значительно меньше основного.
  * Окно приложения должно внешне имитировать шахматную доску.
  * Размер игрового поля должен быть 8х8
  * Ведется учёт сыгранного времени партии и номер хода.
  * Имеется поле ввода и вывода мгновенных сообщений между игроками. При игре с ботом туда выводится информация о времени хода, количестве перебранных комбинаций. При игре с AI невозможно отправлять сообщения, а при игре 2х человек невозможно ни отправлять, ни получать сообщения.

### 3.2.2 Искусственный интеллект ###
  * Искусственный интеллект в приложении только один.
  * Сложность интеллекта является максимально-достижимой для разработчиков.
  * Искусственный интеллект является классом работающим с основным модулем, встраиваемым на этапе компиляции.

### 3.2.3 Игра через сеть Интернет ###
  * С точки зрения пользователей игра через сеть Интернет не должна отличаться от игры на одном компьютере или игры с искусственным интеллектом, за исключением возможности отправлять противнику сообщения.
  * В случае разрыва соединения каждый игрок, приложение которого не закрыто получит сообщение о разрыве соединения, и о том что партия не состоялась.

# 4. Критерии аттестации системы #
  1. Запуск приложения и выбор режима игры.
  1. Поиграть одну партию вдвоём и убедиться, что все правила игры соблюдены, и победа присуждена правильному игроку. Попробовать намерено нарушить правила игры (например, сделав некорректный ход), убедиться, что это невозможно. [1.1.2]
  1. Попробовать сходить вместо противника. [1.1.3]
  1. Произвести переключение языка интерфейса. [1.2.1]
  1. Во время игры по сети сымитировать разрыв подключения.


# 5. Глоссарий терминов #
**5.1** Шашка (камень) – фигура, участвующая в игре. В игре есть белые и черные шашки - шашки соперников, то есть один человек может управлять фигурами только одного цвета.

**5.2** Ход – перемещение шашки(камня). Игрок может переместить свой камень в соседнюю пустую клетку в вертикальном или горизонтальном направлениях. Игрок также может своей шашкой перепрыгнуть [5.3] как свою, так и противника и встать в следующую за ней пустую клетку. За один прыжок можно перепрыгнуть только через одну шашку. Также возможен многократный прыжок [5.4].

**5.3** Прыжок – ход, при котором шашка перепрыгивает одну свою или одну чужую шашку, приземляясь на свободную клетку за ней.

**5.4** Если после прыжка опять появляется возможность совершить прыжок, то игрок может это сделать. Таким образом за один ход можно одним камнем выполнить несколько прыжков.

**5.5** Дом – клетки доски, на которых стоят шашки в начале партии. Дома противников находятся симметрично относительно центра доски.

**5.6** Фрейм – текущее состояние партии, включает в себя положение всех шашек, очередность хода, и количество уже сделанных ходов каждым из игроков.